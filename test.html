<!DOCTYPE html>
<html>
<head>
    <title>ALAC</title>
</head>
<body>
    <p>Open your favorite JS console! :)</p>
    <p>Make sure you run build.sh after every change.</p>
    
    <script src="lib/aurora.js"></script>
    <script src="lib/alac.js"></script>
    <script src="sink.js"></script>
    
    <script>
      var bus = {
        send: function () {
          console.log("Message Bus: ", arguments)
        }
      }
      
      var cookieTest = {
        send: function () {
          console.log("Cookie Bus: ", arguments)
        }
      }
      
      var dataTest = {
        send: function () {
          console.log("Data Bus: ", arguments)
        }
      }
      
      var httpSource = new Aurora.HTTPSource("Source")
      var cafDemuxer = new Aurora.CAFDemuxer("Demuxer")
      
      httpSource.url = "eod-begin.caf"
      
      httpSource.messagebus = bus
      cafDemuxer.messagebus = bus
      
      httpSource.outputs.data = cafDemuxer.inputs.data
      
      cafDemuxer.outputs.cookie = cookieTest
      cafDemuxer.outputs.data = dataTest
      
      httpSource.start()
    </script>
</body>
</html>
